function InitMap(e,t){if("undefined"===t||t===""||!t||t===0||t==="0"){t="all"}var n=new google.maps.LatLng(wpgmaps_localize[e]["map_start_lat"],wpgmaps_localize[e]["map_start_lng"]);MYMAP[e].init("#wpgmza_map_"+e,n,parseInt(wpgmaps_localize[e]["map_start_zoom"]),wpgmaps_localize[e]["type"]);UniqueCode=Math.round(Math.random()*1e4);if(wpgmaps_map_mashup){wpgmaps_localize_mashup_ids.forEach(function(n){MYMAP[e].placeMarkers(wpgmaps_markerurl+n+"markers.xml?u="+UniqueCode,e,t,null.null)})}else{MYMAP[e].placeMarkers(wpgmaps_markerurl+e+"markers.xml?u="+UniqueCode,e,t,null,null)}}function wpgmza_reinitialisetbl(e){if(wpgmaps_localize[e]["order_markers_by"]==="1"){wpgmaps_order_by=parseInt(0)}else if(wpgmaps_localize[e]["order_markers_by"]==="2"){wpgmaps_order_by=parseInt(2)}else if(wpgmaps_localize[e]["order_markers_by"]==="3"){wpgmaps_order_by=parseInt(4)}else if(wpgmaps_localize[e]["order_markers_by"]==="4"){wpgmaps_order_by=parseInt(5)}else if(wpgmaps_localize[e]["order_markers_by"]==="5"){wpgmaps_order_by=parseInt(3)}else{wpgmaps_order_by=0}if(wpgmaps_localize[e]["order_markers_choice"]==="1"){wpgmaps_order_by_choice="asc"}else{wpgmaps_order_by_choice="desc"}wpgmzaTable[e].fnClearTable(0);wpgmzaTable[e]=jQuery("#wpgmza_table_"+e).dataTable({bProcessing:true,aaSorting:[[wpgmaps_order_by,wpgmaps_order_by_choice]],oLanguage:{sLengthMenu:wpgm_dt_sLengthMenu,sZeroRecords:wpgm_dt_sLengthMenu,sInfo:wpgm_dt_sInfo,sInfoEmpty:wpgm_dt_sInfoEmpty,sInfoFiltered:wpgm_dt_sInfoFiltered,sFirst:wpgm_dt_sFirst,sLast:wpgm_dt_sLast,sNext:wpgm_dt_sNext,sPrevious:wpgm_dt_sPrevious,sSearch:wpgm_dt_sSearch}})}function openInfoWindow(e){google.maps.event.trigger(marker_array[e],"click")}function calcRoute(e,t,n,r,i,s){var o={origin:e,destination:t,travelMode:google.maps.DirectionsTravelMode[r],avoidHighways:s,avoidTolls:i};directionsService[n].route(o,function(e,t){if(t==google.maps.DirectionsStatus.OK){directionsDisplay[n].setDirections(e)}})}function wpgmza_show_options(e){jQuery("#wpgmza_options_box_"+e).show();jQuery("#wpgmza_show_options_"+e).hide();jQuery("#wpgmza_hide_options_"+e).show()}function wpgmza_hide_options(e){jQuery("#wpgmza_options_box_"+e).hide();jQuery("#wpgmza_show_options_"+e).show();jQuery("#wpgmza_hide_options_"+e).hide()}function wpgmza_reset_directions(e){jQuery("#wpgmaps_directions_editbox_"+e).show();jQuery("#directions_panel_"+e).hide();jQuery("#wpgmaps_directions_notification_"+e).hide();jQuery("#wpgmaps_directions_reset_"+e).hide()}var MYMAP=new Array;var wpgmzaTable=new Array;for(var entry in wpgmaps_localize){if("undefined"===typeof window.jQuery){document.getElementById("wpgmza_map_"+wpgmaps_localize[entry]["id"]).innerHTML='Error: In order for WP Google Maps to work, jQuery must be installed. A check was done and jQuery was not present. Please see the <a href="http://www.wpgmaps.com/documentation/troubleshooting/jquery-troubleshooting/" title="WP Google Maps - jQuery Troubleshooting">jQuery troubleshooting section of our site</a> for more information.'}}var user_location;jQuery(function(){jQuery(document).ready(function(){if(/1\.(0|1|2|3|4|5|6|7)\.(0|1|2|3|4|5|6|7|8|9)/.test(jQuery.fn.jquery)){for(var e in wpgmaps_localize){document.getElementById("wpgmza_map_"+wpgmaps_localize[e]["id"]).innerHTML="Error: Your version of jQuery is outdated. WP Google Maps requires jQuery version 1.7+ to function correctly. Go to Maps->Settings and check the box that allows you to over-ride your current jQuery to try eliminate this problem."}}else{jQuery("body").on("click",".wpgmaps_mlist_row",function(){var e=jQuery(this).attr("mid");var t=jQuery(this).attr("mapid");openInfoWindow(e);location.hash="#marker"+e});jQuery("body").on("change","#wpgmza_filter_select",function(){var e=jQuery(this).find(":selected").val();var t=jQuery(this).attr("mid");InitMap(t,e);if(typeof jQuery("#wpgmzaTable_"+t)==="object"){if(e==0){wpgmzaTable[t].fnFilter("")}else{wpgmzaTable[t].fnFilter(this.options[this.selectedIndex].text)}}});jQuery("body").on("click","#wpgmza_use_my_location_from",function(){var e=jQuery(this).attr("mid");jQuery("#wpgmza_input_from_"+e).val(wpgmaps_lang_getting_location);var t=new google.maps.Geocoder;t.geocode({latLng:user_location},function(t,n){if(n==google.maps.GeocoderStatus.OK){if(t[0]){jQuery("#wpgmza_input_from_"+e).val(t[0].formatted_address)}}})});jQuery("body").on("click","#wpgmza_use_my_location_to",function(){var e=jQuery(this).attr("mid");jQuery("#wpgmza_input_to_"+e).val(wpgmaps_lang_getting_location);var t=new google.maps.Geocoder;t.geocode({latLng:user_location},function(t,n){if(n==google.maps.GeocoderStatus.OK){if(t[0]){jQuery("#wpgmza_input_to_"+e).val(t[0].formatted_address)}}})});jQuery("body").on("tabsshow",function(e,t){for(var n in wpgmaps_localize){InitMap(wpgmaps_localize[n]["id"],"all")}});for(var e in wpgmaps_localize){if(wpgmaps_localize[e]["order_markers_by"]=="1"){wpgmaps_order_by=parseInt(0)}else if(wpgmaps_localize[e]["order_markers_by"]=="2"){wpgmaps_order_by=parseInt(2)}else if(wpgmaps_localize[e]["order_markers_by"]=="3"){wpgmaps_order_by=parseInt(4)}else if(wpgmaps_localize[e]["order_markers_by"]=="4"){wpgmaps_order_by=parseInt(5)}else if(wpgmaps_localize[e]["order_markers_by"]=="5"){wpgmaps_order_by=parseInt(3)}else{wpgmaps_order_by=0}if(wpgmaps_localize[e]["order_markers_choice"]=="1"){wpgmaps_order_by_choice="asc"}else{wpgmaps_order_by_choice="desc"}if(jQuery("#wpgmza_table_"+wpgmaps_localize[e]["id"]).length===0){}else{wpgmzaTable[wpgmaps_localize[e]["id"]]=jQuery("#wpgmza_table_"+wpgmaps_localize[e]["id"]).dataTable({bProcessing:true,aaSorting:[[wpgmaps_order_by,wpgmaps_order_by_choice]],oLanguage:{sLengthMenu:wpgm_dt_sLengthMenu,sZeroRecords:wpgm_dt_sLengthMenu,sInfo:wpgm_dt_sInfo,sInfoEmpty:wpgm_dt_sInfoEmpty,sInfoFiltered:wpgm_dt_sInfoFiltered,sFirst:wpgm_dt_sFirst,sLast:wpgm_dt_sLast,sNext:wpgm_dt_sNext,sPrevious:wpgm_dt_sPrevious,sSearch:wpgm_dt_sSearch}})}}for(var e in wpgmaps_localize){jQuery("#wpgmza_map_"+wpgmaps_localize[e]["id"]).css({height:wpgmaps_localize[e]["map_height"]+""+wpgmaps_localize[e]["map_height_type"],width:wpgmaps_localize[e]["map_width"]+""+wpgmaps_localize[e]["map_width_type"]})}for(var e in wpgmaps_localize){InitMap(wpgmaps_localize[e]["id"],"all")}}})});var directionsDisplay=[];var directionsService=[];for(var entry in wpgmaps_localize){directionsDisplay[wpgmaps_localize[entry]["id"]];directionsService[wpgmaps_localize[entry]["id"]]=new google.maps.DirectionsService;var currentDirections=null;var oldDirections=[];var new_gps;if(wpgmaps_localize[entry]["styling_json"]!==""&&wpgmaps_localize[entry]["styling_enabled"]==="1"){wpgmza_adv_styling_json=jQuery.parseJSON(wpgmaps_localize[entry]["styling_json"])}else{wpgmza_adv_styling_json=""}MYMAP[wpgmaps_localize[entry]["id"]]={map:null,bounds:null,mc:null};if(wpgmaps_localize_global_settings["wpgmza_settings_map_draggable"]===""){wpgmza_settings_map_draggable=true}else{wpgmza_settings_map_draggable=false}if(wpgmaps_localize_global_settings["wpgmza_settings_map_clickzoom"]===""){wpgmza_settings_map_clickzoom=true}else{wpgmza_settings_map_clickzoom=false}if(wpgmaps_localize_global_settings["wpgmza_settings_map_scroll"]===""){wpgmza_settings_map_scroll=true}else{wpgmza_settings_map_scroll=false}if(wpgmaps_localize_global_settings["wpgmza_settings_map_zoom"]===""){wpgmza_settings_map_zoom=true}else{wpgmza_settings_map_zoom=false}if(wpgmaps_localize_global_settings["wpgmza_settings_map_pan"]===""){wpgmza_settings_map_pan=true}else{wpgmza_settings_map_pan=false}if(wpgmaps_localize_global_settings["wpgmza_settings_map_type"]===""){wpgmza_settings_map_type=true}else{wpgmza_settings_map_type=false}if(wpgmaps_localize_global_settings["wpgmza_settings_map_streetview"]===""){wpgmza_settings_map_streetview=true}else{wpgmza_settings_map_streetview=false}MYMAP[wpgmaps_localize[entry]["id"]].init=function(e,t,n,r){if(r==="1"){var i={zoom:n,center:t,draggable:wpgmza_settings_map_draggable,disableDoubleClickZoom:wpgmza_settings_map_clickzoom,scrollwheel:wpgmza_settings_map_scroll,zoomControl:wpgmza_settings_map_zoom,panControl:wpgmza_settings_map_pan,mapTypeControl:wpgmza_settings_map_type,streetViewControl:wpgmza_settings_map_streetview,mapTypeId:google.maps.MapTypeId.ROADMAP}}else if(r==="2"){var i={zoom:n,center:t,draggable:wpgmza_settings_map_draggable,disableDoubleClickZoom:wpgmza_settings_map_clickzoom,scrollwheel:wpgmza_settings_map_scroll,zoomControl:wpgmza_settings_map_zoom,panControl:wpgmza_settings_map_pan,mapTypeControl:wpgmza_settings_map_type,streetViewControl:wpgmza_settings_map_streetview,mapTypeId:google.maps.MapTypeId.SATELLITE}}else if(r==="3"){var i={zoom:n,center:t,draggable:wpgmza_settings_map_draggable,disableDoubleClickZoom:wpgmza_settings_map_clickzoom,scrollwheel:wpgmza_settings_map_scroll,zoomControl:wpgmza_settings_map_zoom,panControl:wpgmza_settings_map_pan,mapTypeControl:wpgmza_settings_map_type,streetViewControl:wpgmza_settings_map_streetview,mapTypeId:google.maps.MapTypeId.HYBRID}}else if(r==="4"){var i={zoom:n,center:t,draggable:wpgmza_settings_map_draggable,disableDoubleClickZoom:wpgmza_settings_map_clickzoom,scrollwheel:wpgmza_settings_map_scroll,zoomControl:wpgmza_settings_map_zoom,panControl:wpgmza_settings_map_pan,mapTypeControl:wpgmza_settings_map_type,streetViewControl:wpgmza_settings_map_streetview,mapTypeId:google.maps.MapTypeId.TERRAIN}}else{var i={zoom:n,center:t,draggable:wpgmza_settings_map_draggable,disableDoubleClickZoom:wpgmza_settings_map_clickzoom,scrollwheel:wpgmza_settings_map_scroll,zoomControl:wpgmza_settings_map_zoom,panControl:wpgmza_settings_map_pan,mapTypeControl:wpgmza_settings_map_type,streetViewControl:wpgmza_settings_map_streetview,mapTypeId:google.maps.MapTypeId.ROADMAP}}if(wpgm_g_e===true){if(wpgmza_adv_styling_json!==""){var s=new google.maps.StyledMapType(wpgmza_adv_styling_json,{name:"WPGMZA STYLING"})}this.map=new google.maps.Map(jQuery(e)[0],i);if(wpgmza_adv_styling_json!==""){this.map.mapTypes.set("WPGMZA STYLING",s);this.map.setMapTypeId("WPGMZA STYLING")}}else{this.map=new google.maps.Map(jQuery(e)[0],i)}this.bounds=new google.maps.LatLngBounds;directionsDisplay[wpgmaps_localize[entry]["id"]]=new google.maps.DirectionsRenderer({map:this.map,preserveViewport:true,draggable:true});directionsDisplay[wpgmaps_localize[entry]["id"]].setPanel(document.getElementById("directions_panel_"+wpgmaps_localize[entry]["id"]));google.maps.event.addListener(directionsDisplay[wpgmaps_localize[entry]["id"]],"directions_changed",function(){if(currentDirections){oldDirections.push(currentDirections)}currentDirections=directionsDisplay[wpgmaps_localize[entry]["id"]].getDirections();jQuery("#directions_panel_"+wpgmaps_localize[entry]["id"]).show();jQuery("#wpgmaps_directions_notification_"+wpgmaps_localize[entry]["id"]).hide();jQuery("#wpgmaps_directions_reset_"+wpgmaps_localize[entry]["id"]).show()});if(wpgmaps_localize_polygon_settings!==null){if(wpgmaps_localize_polygon_settings[wpgmaps_localize[entry]["id"]]!==null){for(var o in wpgmaps_localize_polygon_settings[wpgmaps_localize[entry]["id"]]){var u=wpgmaps_localize_polygon_settings[wpgmaps_localize[entry]["id"]];var a=u[o]["polydata"];var f=new Array;for(tmp_entry2 in a){f.push(new google.maps.LatLng(a[tmp_entry2][0],a[tmp_entry2][1]))}var l=new google.maps.Polygon({path:f,strokeColor:"#"+u[o]["linecolor"],fillOpacity:u[o]["opacity"],fillColor:"#"+u[o]["fillcolor"],strokeWeight:2});l.setMap(this.map)}}}if(wpgmaps_localize_polyline_settings!==null){if(wpgmaps_localize_polyline_settings[wpgmaps_localize[entry]["id"]]!==null){for(var o in wpgmaps_localize_polyline_settings[wpgmaps_localize[entry]["id"]]){var u=wpgmaps_localize_polyline_settings[wpgmaps_localize[entry]["id"]];var a=u[o]["polydata"];var f=new Array;for(tmp_entry2 in a){f.push(new google.maps.LatLng(a[tmp_entry2][0],a[tmp_entry2][1]))}var l=new google.maps.Polyline({path:f,strokeColor:"#"+u[o]["linecolor"],fillOpacity:u[o]["opacity"],fillColor:"#"+u[o]["fillcolor"],strokeWeight:2});l.setMap(this.map)}}}if(wpgmaps_localize[entry]["bicycle"]==="1"){var c=new google.maps.BicyclingLayer;c.setMap(this.map)}if(wpgmaps_localize[entry]["traffic"]==="1"){var h=new google.maps.TrafficLayer;h.setMap(this.map)}if(wpgmaps_localize[entry]["kml"]!==""){var p=new Date;var d=p.getTime();var v=new google.maps.KmlLayer(wpgmaps_localize[entry]["kml"]+"?tstamp="+d);v.setMap(this.map)}if(wpgmaps_localize[entry]["fusion"]!==""){var m=new google.maps.FusionTablesLayer(wpgmaps_localize[entry]["fusion"],{suppressInfoWindows:false});m.setMap(this.map)}};var infoWindow=new google.maps.InfoWindow;if(wpgmaps_localize_global_settings["wpgmza_settings_infowindow_width"]===""){wpgmaps_localize_global_settings["wpgmza_settings_infowindow_width"]="250"}infoWindow.setOptions({maxWidth:wpgmaps_localize_global_settings["wpgmza_settings_infowindow_width"]});google.maps.event.addDomListener(window,"resize",function(){var e=new google.maps.LatLng(wpgmaps_localize[entry]["map_start_lat"],wpgmaps_localize[entry]["map_start_lng"]);MYMAP[wpgmaps_localize[entry]["id"]].map.setCenter(e)});MYMAP[wpgmaps_localize[entry]["id"]].placeMarkers=function(e,t,n,r,i){marker_array=[];marker_array2=[];var s=0;jQuery.get(e,function(e){jQuery(e).find("marker").each(function(){var e=wpgmaps_localize[entry]["default_marker"];var o=jQuery(this).find("map_id").text();var u=jQuery(this).find("marker_id").text();var a=jQuery(this).find("title").text();var f=jQuery(this).find("address").text();var l=jQuery(this).find("address").text();var c=jQuery(this).find("icon").text();var h=jQuery(this).find("pic").text();var p=jQuery(this).find("desc").text();var d=jQuery(this).find("linkd").text();var v=jQuery(this).find("anim").text();var m=jQuery(this).find("category").text();var g=jQuery(this).find("lat").text();var y=jQuery(this).find("lng").text();var b=true;if(r!==null){if(s>0){}else{var w=new google.maps.LatLng(parseFloat(i.lat()),parseFloat(i.lng()));MYMAP[wpgmaps_localize[entry]["id"]].bounds.extend(w);if(c===null||c===""||c===0||c==="0"){var E=new google.maps.Marker({position:w,map:MYMAP[t].map,animation:google.maps.Animation.BOUNCE})}else{var E=new google.maps.Marker({position:w,map:MYMAP[t].map,icon:c,animation:google.maps.Animation.BOUNCE})}var S={strokeColor:"#FF0000",strokeOpacity:.25,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.15,map:MYMAP[t].map,center:w,radius:parseInt(r/621371e-9)};cityCircle=new google.maps.Circle(S);s=s+1}var x=3958.7558657440545;var T=toRad(i.lat()-g);var N=toRad(i.lng()-y);var C=Math.sin(T/2)*Math.sin(T/2)+Math.cos(toRad(g))*Math.cos(toRad(i.lat()))*Math.sin(N/2)*Math.sin(N/2);var k=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));var L=x*k;if(L<r){b=true}else{b=false}}var A;A=false;if(Object.prototype.toString.call(n)==="[object Array]"){if(n[0]=="0"){n=="all"}for(var O in n){if(n[O]===m){A=true;break}}}else{if(n===m){A=true}}if(n==="all"||A){var M=jQuery(this).find("infoopen").text();if(a!=""){a=a+"<br />"}if(h!=""){if(wpgmaps_localize_global_settings["wpgmza_settings_image_width"]==""){wpgmaps_localize_global_settings["wpgmza_settings_image_width"]="100"}if(wpgmaps_localize_global_settings["wpgmza_settings_image_height"]==""){wpgmaps_localize_global_settings["wpgmza_settings_image_height"]="100"}if(wpgmaps_localize_global_settings["wpgmza_settings_use_timthumb"]==""){h='<img src="'+wpgmaps_plugurl+"/timthumb.php?src="+h+"&h="+wpgmaps_localize_global_settings["wpgmza_settings_image_height"]+"&w="+wpgmaps_localize_global_settings["wpgmza_settings_image_width"]+'&zc=1" title="" alt="" style="float:right; width:'+wpgmaps_localize_global_settings["wpgmza_settings_image_width"]+"px; height:"+wpgmaps_localize_global_settings["wpgmza_settings_image_height"]+'px;" />'}else{h='<img src="'+h+'" class="wpgmza_map_image" style="float:right; margin:5px; height:'+wpgmaps_localize_global_settings["wpgmza_settings_image_height"]+"px; width:"+wpgmaps_localize_global_settings["wpgmza_settings_image_width"]+'px" />'}}else{h=""}if(d!=""){if(wpgmaps_localize_global_settings["wpgmza_settings_infowindow_links"]=="yes"){wpgmza_iw_links_target="target='_BLANK'"}else{wpgmza_iw_links_target=""}d='<a href="'+d+'" '+wpgmza_iw_links_target+' title="'+wpgmaps_lang_more_details+'">'+wpgmaps_lang_more_details+"</a><br />"}if(c==""||!c){if(e!=""){c=wpgmaps_localize[entry]["default_marker"]}}var _=jQuery(this).find("lat").text();var D=jQuery(this).find("lng").text();var w=new google.maps.LatLng(parseFloat(_),parseFloat(D));MYMAP[wpgmaps_localize[entry]["id"]].bounds.extend(w);if(b===true){if(v=="1"){if(c===null||c===""||c===0||c==="0"){var E=new google.maps.Marker({position:w,map:MYMAP[t].map,animation:google.maps.Animation.BOUNCE})}else{var E=new google.maps.Marker({position:w,map:MYMAP[t].map,icon:c,animation:google.maps.Animation.BOUNCE})}}else if(v=="2"){if(c===null||c===""||c===0||c==="0"){var E=new google.maps.Marker({position:w,map:MYMAP[t].map,animation:google.maps.Animation.DROP})}else{var E=new google.maps.Marker({position:w,map:MYMAP[t].map,icon:c,animation:google.maps.Animation.DROP})}}else{if(c===null||c===""||c===0||c==="0"){var E=new google.maps.Marker({position:w,map:MYMAP[t].map})}else{var E=new google.maps.Marker({position:w,map:MYMAP[t].map,icon:c})}}if(wpgmaps_localize_global_settings["wpgmza_settings_infowindow_address"]==="yes"){l=""}if(wpgmaps_localize[entry]["directions_enabled"]==="1"){wpmgza_dir_enabled='<a href="javascript:void(0);" id="'+t+'" class="wpgmza_gd" wpgm_addr_field="'+f+'" gps="'+parseFloat(_)+","+parseFloat(D)+'">'+wpgmaps_lang_get_dir+"</a>"}else{wpmgza_dir_enabled=""}if(r!==null){d_string=Math.round(L,2)+" miles away<br />"}else{d_string=""}if(h!==""){var P='<div class="wpgmza_markerbox" style="display:block; width:'+wpgmaps_localize_global_settings["wpgmza_settings_infowindow_width"]+'px;">'+h+"<strong>"+a+"</strong>"+l+'<br /><p style="display:block; min-width:150px;">'+p+"</p>"+d+d_string+""+wpmgza_dir_enabled+"</div>"}else{var P='<div class="wpgmza_markerbox" style="display:block;">'+h+"<strong>"+a+"</strong>"+l+'<br /><p style="display:block; min-width:150px;">'+p+"</p>"+d+d_string+""+wpmgza_dir_enabled+"</div>"}if(M=="1"){infoWindow.setContent(P);infoWindow.open(MYMAP[t].map,E)}google.maps.event.addListener(E,"click",function(e){infoWindow.close();infoWindow.setOptions({maxWidth:wpgmaps_localize_global_settings["wpgmza_settings_infowindow_width"]});infoWindow.setContent(P);infoWindow.open(MYMAP[t].map,E)});marker_array[u]=E;marker_array2.push(E)}}});if(wpgm_g_e===true){var o={gridSize:20,maxZoom:15,styles:[{height:53,url:"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m1.png",width:53},{height:56,url:"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m2.png",width:56},{height:66,url:"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m3.png",width:66},{height:78,url:"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m4.png",width:78},{height:90,url:"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m5.png",width:90}]};if(wpgmaps_localize[entry]["mass_marker_support"]==="1"||wpgmaps_localize[entry]["mass_marker_support"]===null){MYMAP[t].mc=new MarkerClusterer(MYMAP[t].map,marker_array2,o)}}});if(wpgmaps_localize[entry]["show_user_location"]=="1"){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(e){user_location=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);var t=new google.maps.Marker({position:user_location,map:MYMAP[wpgmaps_localize[entry]["id"]].map,animation:google.maps.Animation.DROP});google.maps.event.addListener(t,"click",function(e){infoWindow.close();infoWindow.setContent(wpgmaps_lang_my_location);infoWindow.open(MYMAP[wpgmaps_localize[entry]["id"]].map,t)});marker_array[marker_array+1]=t})}else{}}}}jQuery("body").on("click",".wpgmza_gd",function(){var e=jQuery(this).attr("id");var t=jQuery(this).attr("wpgm_addr_field");jQuery("#wpgmaps_directions_edit_"+e).show();jQuery("#wpgmaps_directions_editbox_"+e).show();jQuery("#wpgmza_input_to_"+e).val(t);jQuery("#wpgmza_input_from_"+e).focus().select()});jQuery("body").on("click",".wpgmaps_get_directions",function(){var e=jQuery(this).attr("id");var t=jQuery("#wpgmza_tolls_"+e).is(":checked");var n=jQuery("#wpgmza_highways_"+e).is(":checked");var r=jQuery("#wpgmza_dir_type_"+e).val();var i=jQuery("#wpgmza_input_from_"+e).val();var s=jQuery("#wpgmza_input_to_"+e).val();if(i===""||s===""){alert(wpgmaps_lang_error1)}else{calcRoute(i,s,e,r,t,n);jQuery("#wpgmaps_directions_editbox_"+e).hide("slow");jQuery("#wpgmaps_directions_notification_"+e).show("slow")}})